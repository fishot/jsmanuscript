<!doctype html>
<!--
  Copyright 2020 wixette@gmail.com

  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<html lang="zh-CN" id="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>中文一键转稿纸格式</title>
    <link rel="stylesheet" href="style.css">
  </head>
  <body>
    <div id="container">

      <div id="header">
        <div id="titlebar">
          <div>中文一键转稿纸格式</div>
          <div><a href="https://github.com/wixette/jsmanuscript">源代码</a></div>
        </div>
        <div id="controls">
          <div class="control-box"><div>字体</div><select id="font-select""></select></div>
          <div class="control-box"><div>文字颜色</div><input id="text-color" type="color" value="#000000"></div>
          <div class="control-box"><div>纸张颜色</div><input id="paper-color" type="color" value="#ffffff"></div>
          <div class="control-box"><div>网格颜色</div><input id="grid-color" type="color" value="#33cc33"></div>
          <div class="control-box"><input id="btn-input" type="button" value="输入文字"></div>
          <div class="control-box"><input id="btn-format" type="button" value="生成稿纸"></div>
          <div class="control-box"><input id="btn-print" type="button" value="打印稿纸"></div>
          <div class="control-box"><div>第</div><select id="page-select"></select><div>页</div><input id="btn-print" type="button" value="导出图片"></div>
        </div>
      </div>

      <div id="text-container">
        <textarea id="input-text" placeholder="请输入要排版的文字"></textarea>
      </div>

      <div id="paper-container">
      </div>

      <div id="footer">&copy; 2020 wixette
        <a href="/"><span id="back-home" class="l10n">首页</span></a>
      </div>

    </div>

    <script src="jsmanuscript.js"></script>
    <script>
     document.getElementById('input-text').focus();
     document.getElementById('btn-format').addEventListener('click', function() {
       var text = document.getElementById('input-text').value;
       var fontFamily = document.getElementById('font-family').value;
       var textColor = document.getElementById('text-color').value;
       var paperColor = document.getElementById('paper-color').value;
       var gridColor = document.getElementById('grid-color').value;
       JsManuscriptFormatText(text,
                              document.getElementById('paper-container'),
                              fontFamily,
                              textColor,
                              paperColor,
                              gridColor);
     });
     document.getElementById('btn-print').addEventListener('click', function() {
       window.print();
     });
    </script>
  </body>
</html>
